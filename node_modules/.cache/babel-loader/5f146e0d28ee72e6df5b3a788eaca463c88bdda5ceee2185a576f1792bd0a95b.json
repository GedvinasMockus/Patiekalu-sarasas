{"ast":null,"code":"import { reactive, ref } from 'vue';\nimport axios from \"axios\";\nimport router from '@/router';\nexport default {\n  props: ['statuses'],\n  setup(props, context) {\n    const data = reactive({\n      name: '',\n      surname: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      statusId: ''\n    });\n    const submitting = ref(false);\n    const inputErrors = ref({});\n    const handleSubmit = () => {\n      submitting.value = true;\n      axios.post(`${process.env.VUE_APP_BACKEND_API}/register`, data).then(() => {\n        inputErrors.value = {};\n        submitting.value = false;\n        context.emit('register');\n      }).catch(err => {\n        data.password = '';\n        data.passwordConfirmation = '';\n        if (err.response?.status === 422) {\n          submitting.value = false;\n          inputErrors.value = err.response.data.errors;\n        } else console.log(err);\n      });\n    };\n    return {\n      data,\n      submitting,\n      inputErrors,\n      handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["reactive","ref","axios","router","props","setup","context","data","name","surname","email","password","passwordConfirmation","statusId","submitting","inputErrors","handleSubmit","value","post","process","env","VUE_APP_BACKEND_API","then","emit","catch","err","response","status","errors","console","log"],"sources":["C:\\Users\\Gedvilas\\Desktop 2\\Kirpyklu-sistema-front\\src\\components\\RegisterForm.vue"],"sourcesContent":["<template>\n<v-card elevation=\"16\" min-width=\"350px\">\n    <v-card-title class=\"text-h4\">Register</v-card-title>\n    <v-divider></v-divider>\n    <v-card-text>\n        <v-form @submit.prevent=\"handleSubmit\">\n            <v-text-field v-model=\"data.name\" class=\"my-2\" type=\"text\" label=\"Name\" :error-messages=\"inputErrors.name\"></v-text-field>\n            <v-text-field v-model=\"data.surname\" class=\"mb-2\" type=\"text\" label=\"Surname\" :error-messages=\"inputErrors.surname\"></v-text-field>\n            <v-text-field v-model=\"data.email\" class=\"mb-2\" type=\"email\" label=\"Email\" :error-messages=\"inputErrors.email\"></v-text-field>\n            <v-text-field v-model=\"data.password\" class=\"mb-2\" type=\"password\" label=\"Password\" :error-messages=\"inputErrors.password\"></v-text-field>\n            <v-text-field v-model=\"data.passwordConfirmation\" type=\"password\" class=\"mt-2\" label=\"Confirm password\"></v-text-field>\n            <v-select v-model=\"data.statusId\" class=\"mb-2\" label=\"Status\" :items=\"statuses\" item-value=\"id\" item-title=\"name\" :error-messages=\"inputErrors.statusId\"></v-select>\n            <v-btn type=\"submit\" block class=\"text-capitalize\" color=\"blue-grey-lighten-5\" variant=\"elevated\" :loading=\"submitting\" :disabled=\"submitting\">Register</v-btn>\n        </v-form>\n    </v-card-text>\n</v-card>\n</template>\n<script>\nimport { reactive, ref } from 'vue'\nimport axios from \"axios\"\nimport router from '@/router'\n  export default { \n    props: ['statuses'],\n    setup(props, context){\n        const data = reactive({\n            name: '',\n            surname: '',\n            email: '',\n            password: '',\n            passwordConfirmation: '',\n            statusId: ''\n        })\n        const submitting = ref(false)\n        const inputErrors = ref({})\n        const handleSubmit = () => {\n            submitting.value = true\n            axios.post(`${process.env.VUE_APP_BACKEND_API}/register`, data)\n                .then(() => {\n                    inputErrors.value = {}\n                    submitting.value = false\n                    context.emit('register')\n                }).catch((err) => {\n                    data.password = ''\n                    data.passwordConfirmation = ''\n                    if(err.response?.status === 422)\n                    {\n                        submitting.value = false\n                        inputErrors.value = err.response.data.errors\n                    }\n                    else console.log(err)\n                })\n        }\n        return { data, submitting, inputErrors, handleSubmit }\n    }\n  }\n</script>\n\n<style>\n\n</style>"],"mappings":"AAkBA,SAASA,QAAQ,EAAEC,GAAE,QAAS,KAAI;AAClC,OAAOC,KAAI,MAAO,OAAM;AACxB,OAAOC,MAAK,MAAO,UAAS;AAC1B,eAAe;EACbC,KAAK,EAAE,CAAC,UAAU,CAAC;EACnBC,KAAKA,CAACD,KAAK,EAAEE,OAAO,EAAC;IACjB,MAAMC,IAAG,GAAIP,QAAQ,CAAC;MAClBQ,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,oBAAoB,EAAE,EAAE;MACxBC,QAAQ,EAAE;IACd,CAAC;IACD,MAAMC,UAAS,GAAIb,GAAG,CAAC,KAAK;IAC5B,MAAMc,WAAU,GAAId,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMe,YAAW,GAAIA,CAAA,KAAM;MACvBF,UAAU,CAACG,KAAI,GAAI,IAAG;MACtBf,KAAK,CAACgB,IAAI,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,mBAAoB,WAAU,EAAEd,IAAI,EACzDe,IAAI,CAAC,MAAM;QACRP,WAAW,CAACE,KAAI,GAAI,CAAC;QACrBH,UAAU,CAACG,KAAI,GAAI,KAAI;QACvBX,OAAO,CAACiB,IAAI,CAAC,UAAU;MAC3B,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,IAAK;QACdlB,IAAI,CAACI,QAAO,GAAI,EAAC;QACjBJ,IAAI,CAACK,oBAAmB,GAAI,EAAC;QAC7B,IAAGa,GAAG,CAACC,QAAQ,EAAEC,MAAK,KAAM,GAAG,EAC/B;UACIb,UAAU,CAACG,KAAI,GAAI,KAAI;UACvBF,WAAW,CAACE,KAAI,GAAIQ,GAAG,CAACC,QAAQ,CAACnB,IAAI,CAACqB,MAAK;QAC/C,OACKC,OAAO,CAACC,GAAG,CAACL,GAAG;MACxB,CAAC;IACT;IACA,OAAO;MAAElB,IAAI;MAAEO,UAAU;MAAEC,WAAW;MAAEC;IAAa;EACzD;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}