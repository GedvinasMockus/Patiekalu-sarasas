{"ast":null,"code":"import { reactive, ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  setup(props, context) {\n    const data = reactive({\n      email: '',\n      password: ''\n    });\n    const submitting = ref(false);\n    const errors = ref({});\n    const submit = () => {\n      submitting.value = true;\n      axios.post(`${process.env.VUE_APP_API}/login`, data).then(res => {\n        errors.value = {};\n        console.log(res.data);\n        const accessToken = res.data.token;\n        context.emit('login', accessToken);\n      }).catch(err => {\n        data.password = '';\n        errors.value = '';\n        submitting.value = false;\n        console.log(err.response.data);\n        if (err.response?.status === 422) inputErrors.value = err.response.data.data;else if (err.response?.status === 401) context.emit('error', err.response.data.message);else if (!err.response) context.emit('error', 'Server is currently offline');else console.log(err);\n      });\n    };\n    return {\n      data,\n      submitting,\n      errors,\n      submit\n    };\n  }\n};","map":{"version":3,"names":["reactive","ref","axios","setup","props","context","data","email","password","submitting","errors","submit","value","post","process","env","VUE_APP_API","then","res","console","log","accessToken","token","emit","catch","err","response","status","inputErrors","message"],"sources":["C:\\Users\\Gedvilas\\Desktop 2\\Kirpyklu-sistema-front\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\n    <v-card elevation=\"16\" min-width=\"200px\" color=\"blue-lighten-1\">\n        <v-card-title>\n            <div class=\"text-h3 text-center\">Login</div>\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-card-text>\n            <v-form @submit.prevent=\"submit\">\n                <v-text-field v-model=\"data.email\" type=\"email\" class=\"my-2\" label=\"email\" :error-messages=\"errors.email\"></v-text-field>\n                <v-text-field v-model=\"data.password\" type=\"password\" class=\"mb-2\" label=\"password\" :error-messages=\"errors.password\"></v-text-field>\n                <v-btn type=\"submit\" block class=\"text-capitalize\" color=\"blue-grey-lighten-5\" variant=\"elevated\" :loading=\"submitting\" :disabled=\"submitting\">Login</v-btn>\n            </v-form>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport { reactive, ref } from 'vue'\nimport axios from 'axios'\nexport default {\n    setup(props, context){\n        const data = reactive({\n            email: '',\n            password: ''\n        })\n        const submitting = ref(false)\n        const errors = ref({})\n        const submit = () => {\n            submitting.value = true\n            axios.post(`${process.env.VUE_APP_API}/login`, data)\n                .then((res) => {\n                    errors.value = {}\n                    console.log(res.data)\n                    const accessToken = res.data.token\n                    context.emit('login', accessToken)\n                }).catch((err) => {\n                    data.password = ''\n                    errors.value = ''\n                    submitting.value = false\n                    console.log(err.response.data)\n                    if(err.response?.status === 422)\n                        inputErrors.value = err.response.data.data\n                    else if(err.response?.status === 401)\n                        context.emit('error', err.response.data.message)\n                    else if(!err.response)\n                        context.emit('error', 'Server is currently offline')\n                    else console.log(err)\n                })\n        }\n        return {data, submitting, errors, submit}\n    }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":"AAiBA,SAASA,QAAQ,EAAEC,GAAE,QAAS,KAAI;AAClC,OAAOC,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,KAAKA,CAACC,KAAK,EAAEC,OAAO,EAAC;IACjB,MAAMC,IAAG,GAAIN,QAAQ,CAAC;MAClBO,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACd,CAAC;IACD,MAAMC,UAAS,GAAIR,GAAG,CAAC,KAAK;IAC5B,MAAMS,MAAK,GAAIT,GAAG,CAAC,CAAC,CAAC;IACrB,MAAMU,MAAK,GAAIA,CAAA,KAAM;MACjBF,UAAU,CAACG,KAAI,GAAI,IAAG;MACtBV,KAAK,CAACW,IAAI,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,WAAY,QAAO,EAAEV,IAAI,EAC9CW,IAAI,CAAEC,GAAG,IAAK;QACXR,MAAM,CAACE,KAAI,GAAI,CAAC;QAChBO,OAAO,CAACC,GAAG,CAACF,GAAG,CAACZ,IAAI;QACpB,MAAMe,WAAU,GAAIH,GAAG,CAACZ,IAAI,CAACgB,KAAI;QACjCjB,OAAO,CAACkB,IAAI,CAAC,OAAO,EAAEF,WAAW;MACrC,CAAC,CAAC,CAACG,KAAK,CAAEC,GAAG,IAAK;QACdnB,IAAI,CAACE,QAAO,GAAI,EAAC;QACjBE,MAAM,CAACE,KAAI,GAAI,EAAC;QAChBH,UAAU,CAACG,KAAI,GAAI,KAAI;QACvBO,OAAO,CAACC,GAAG,CAACK,GAAG,CAACC,QAAQ,CAACpB,IAAI;QAC7B,IAAGmB,GAAG,CAACC,QAAQ,EAAEC,MAAK,KAAM,GAAG,EAC3BC,WAAW,CAAChB,KAAI,GAAIa,GAAG,CAACC,QAAQ,CAACpB,IAAI,CAACA,IAAG,MACxC,IAAGmB,GAAG,CAACC,QAAQ,EAAEC,MAAK,KAAM,GAAG,EAChCtB,OAAO,CAACkB,IAAI,CAAC,OAAO,EAAEE,GAAG,CAACC,QAAQ,CAACpB,IAAI,CAACuB,OAAO,OAC9C,IAAG,CAACJ,GAAG,CAACC,QAAQ,EACjBrB,OAAO,CAACkB,IAAI,CAAC,OAAO,EAAE,6BAA6B,OAClDJ,OAAO,CAACC,GAAG,CAACK,GAAG;MACxB,CAAC;IACT;IACA,OAAO;MAACnB,IAAI;MAAEG,UAAU;MAAEC,MAAM;MAAEC;IAAM;EAC5C;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}