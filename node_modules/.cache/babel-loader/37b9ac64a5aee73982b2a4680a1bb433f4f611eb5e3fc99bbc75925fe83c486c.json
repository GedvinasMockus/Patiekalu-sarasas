{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport RegisterView from '../views/RegisterView.vue';\nimport LoginView from '../views/LoginView.vue';\nimport RestaurantView from '../views/RestaurantList.vue';\nimport MenuView from '../views/MenuList.vue';\nimport DishView from '../views/DishList.vue';\nimport UserInfoView from '../views/UserInfoView';\nimport UserView from '../views/UserList.vue';\nimport NotFoundView from '../views/NotFoundView.vue';\nimport { jwtDecode } from 'jwt-decode';\nimport { POSITION, useToast } from 'vue-toastification';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView,\n  meta: {\n    checkAuth: false\n  }\n}, {\n  path: '/register',\n  name: 'register',\n  component: RegisterView,\n  meta: {\n    checkAuth: true,\n    auth: false\n  }\n}, {\n  path: '/login',\n  name: 'login',\n  component: LoginView,\n  meta: {\n    checkAuth: true,\n    auth: false\n  }\n}, {\n  path: '/restaurants',\n  name: 'restaurants',\n  component: RestaurantView,\n  meta: {\n    checkAuth: true,\n    auth: true\n  }\n}, {\n  path: '/users',\n  name: 'users',\n  component: UserView,\n  props: true,\n  meta: {\n    checkAuth: true,\n    auth: true\n  }\n}, {\n  path: '/restaurant/:rid/menu',\n  name: 'menus',\n  component: MenuView,\n  props: true,\n  meta: {\n    checkAuth: true,\n    auth: true\n  }\n}, {\n  path: '/restaurant/:rid/menu/:mid/dish',\n  name: 'dishes',\n  component: DishView,\n  props: true,\n  meta: {\n    checkAuth: true,\n    auth: true\n  }\n}, {\n  path: '/:pathMatch(.*)*',\n  name: 'notFound',\n  component: NotFoundView\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from) => {\n  if (to.meta.checkAuth) {\n    const token = localStorage.getItem('token');\n    if (to.meta.auth && !token) return {\n      name: 'login'\n    };else if (!to.meta.auth && token) return {\n      name: 'home'\n    };\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","RegisterView","LoginView","RestaurantView","MenuView","DishView","UserInfoView","UserView","NotFoundView","jwtDecode","POSITION","useToast","routes","path","name","component","meta","checkAuth","auth","props","router","history","process","env","BASE_URL","beforeEach","to","from","token","localStorage","getItem"],"sources":["C:/Users/Gedvilas/Desktop 2/Kirpyklu-sistema-front/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport RegisterView from '../views/RegisterView.vue'\nimport LoginView from '../views/LoginView.vue'\nimport RestaurantView from '../views/RestaurantList.vue'\nimport MenuView from '../views/MenuList.vue'\nimport DishView from '../views/DishList.vue'\nimport UserInfoView from '../views/UserInfoView'\nimport UserView from '../views/UserList.vue'\nimport NotFoundView from '../views/NotFoundView.vue'\n\nimport { jwtDecode } from 'jwt-decode'\nimport { POSITION, useToast } from 'vue-toastification'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView,\n    meta: {\n      checkAuth: false\n    }\n  },\n  {\n    path: '/register',\n    name: 'register',\n    component: RegisterView,\n    meta: {\n      checkAuth: true,\n      auth: false\n    }\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView,\n    meta: {\n      checkAuth: true,\n      auth: false\n    }\n  },\n  {\n    path: '/restaurants',\n    name: 'restaurants',\n    component: RestaurantView,\n    meta: {\n      checkAuth: true,\n      auth: true\n    }\n  },\n  {\n    path: '/users',\n    name: 'users',\n    component: UserView,\n    props: true,\n    meta: {\n      checkAuth: true,\n      auth: true\n    }\n  },\n  {\n    path: '/restaurant/:rid/menu',\n    name: 'menus',\n    component: MenuView,\n    props: true,\n    meta: {\n      checkAuth: true,\n      auth: true\n    }\n  },\n  {\n    path: '/restaurant/:rid/menu/:mid/dish',\n    name: 'dishes',\n    component: DishView,\n    props: true,\n    meta: {\n      checkAuth: true,\n      auth: true\n    }\n  },\n  {\n    path: '/:pathMatch(.*)*',\n    name: 'notFound',\n    component: NotFoundView\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach((to, from) => {\n  if(to.meta.checkAuth){\n    const token = localStorage.getItem('token')\n    if(to.meta.auth && !token) return  { name: 'login' }\n    else if(!to.meta.auth && token) return { name: 'home' }\n  }\n})\n\nexport default router\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,YAAY,MAAM,uBAAuB;AAChD,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,YAAY,MAAM,2BAA2B;AAEpD,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,QAAQ,EAAEC,QAAQ,QAAQ,oBAAoB;AAEvD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEf,QAAQ;EACnBgB,IAAI,EAAE;IACJC,SAAS,EAAE;EACb;AACF,CAAC,EACD;EACEJ,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEd,YAAY;EACvBe,IAAI,EAAE;IACJC,SAAS,EAAE,IAAI;IACfC,IAAI,EAAE;EACR;AACF,CAAC,EACD;EACEL,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEb,SAAS;EACpBc,IAAI,EAAE;IACJC,SAAS,EAAE,IAAI;IACfC,IAAI,EAAE;EACR;AACF,CAAC,EACD;EACEL,IAAI,EAAE,cAAc;EACpBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEZ,cAAc;EACzBa,IAAI,EAAE;IACJC,SAAS,EAAE,IAAI;IACfC,IAAI,EAAE;EACR;AACF,CAAC,EACD;EACEL,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAER,QAAQ;EACnBY,KAAK,EAAE,IAAI;EACXH,IAAI,EAAE;IACJC,SAAS,EAAE,IAAI;IACfC,IAAI,EAAE;EACR;AACF,CAAC,EACD;EACEL,IAAI,EAAE,uBAAuB;EAC7BC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEX,QAAQ;EACnBe,KAAK,EAAE,IAAI;EACXH,IAAI,EAAE;IACJC,SAAS,EAAE,IAAI;IACfC,IAAI,EAAE;EACR;AACF,CAAC,EACD;EACEL,IAAI,EAAE,iCAAiC;EACvCC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEV,QAAQ;EACnBc,KAAK,EAAE,IAAI;EACXH,IAAI,EAAE;IACJC,SAAS,EAAE,IAAI;IACfC,IAAI,EAAE;EACR;AACF,CAAC,EACD;EACEL,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEP;AACb,CAAC,CACF;AAED,MAAMY,MAAM,GAAGtB,YAAY,CAAC;EAC1BuB,OAAO,EAAEtB,gBAAgB,CAACuB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CZ;AACF,CAAC,CAAC;AAEFQ,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,KAAK;EAC9B,IAAGD,EAAE,CAACV,IAAI,CAACC,SAAS,EAAC;IACnB,MAAMW,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAGJ,EAAE,CAACV,IAAI,CAACE,IAAI,IAAI,CAACU,KAAK,EAAE,OAAQ;MAAEd,IAAI,EAAE;IAAQ,CAAC,MAC/C,IAAG,CAACY,EAAE,CAACV,IAAI,CAACE,IAAI,IAAIU,KAAK,EAAE,OAAO;MAAEd,IAAI,EAAE;IAAO,CAAC;EACzD;AACF,CAAC,CAAC;AAEF,eAAeM,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}