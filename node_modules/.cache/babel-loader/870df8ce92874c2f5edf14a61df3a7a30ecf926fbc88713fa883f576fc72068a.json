{"ast":null,"code":"import { reactive, ref } from 'vue';\nimport axios from 'axios';\nexport default {\n  setup(props, context) {\n    const data = reactive({\n      email: '',\n      password: ''\n    });\n    const submitting = ref(false);\n    const inputErrors = ref({});\n    const handleSubmit = () => {\n      submitting.value = true;\n      axios.post(`${process.env.VUE_APP_BACKEND_API}/users/login`, data).then(res => {\n        inputErrors.value = {};\n        const accessToken = res.data.accessToken;\n        context.emit('login', accessToken);\n      }).catch(err => {\n        data.password = '';\n        inputErrors.value = '';\n        submitting.value = false;\n        if (err.response?.status === 422) inputErrors.value = err.response.data.errors;else if (err.response?.status === 401) context.emit('error', err.response.data.message);else if (!err.response) context.emit('error', 'Server is currently offline');else console.log(err);\n      });\n    };\n    return {\n      data,\n      submitting,\n      inputErrors,\n      handleSubmit\n    };\n  }\n};","map":{"version":3,"names":["reactive","ref","axios","setup","props","context","data","email","password","submitting","inputErrors","handleSubmit","value","post","process","env","VUE_APP_BACKEND_API","then","res","accessToken","emit","catch","err","response","status","errors","message","console","log"],"sources":["C:\\Users\\Gedvilas\\Desktop 2\\Kirpyklu-sistema-front\\src\\components\\LoginForm.vue"],"sourcesContent":["<template>\n    <v-card elevation=\"16\" min-width=\"350px\">\n        <v-card-title>\n            <div class=\"text-h4\">Login</div>\n        </v-card-title>\n        <v-divider></v-divider>\n        <v-card-text>\n            <v-form @submit.prevent=\"handleSubmit\">\n                <v-text-field v-model=\"data.email\" type=\"email\" class=\"my-2\" label=\"email\" :error-messages=\"inputErrors.email\"></v-text-field>\n                <v-text-field v-model=\"data.password\" type=\"password\" class=\"mb-2\" label=\"password\" :error-messages=\"inputErrors.password\"></v-text-field>\n                <v-btn type=\"submit\" block class=\"text-capitalize\" color=\"blue-grey-lighten-5\" variant=\"elevated\" :loading=\"submitting\" :disabled=\"submitting\">Login</v-btn>\n            </v-form>\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport { reactive, ref } from 'vue'\nimport axios from 'axios'\nexport default {\n    setup(props, context){\n        const data = reactive({\n            email: '',\n            password: ''\n        })\n        const submitting = ref(false)\n        const inputErrors = ref({})\n        const handleSubmit = () => {\n            submitting.value = true\n            axios.post(`${process.env.VUE_APP_BACKEND_API}/users/login`, data)\n                .then((res) => {\n                    inputErrors.value = {}\n                    const accessToken = res.data.accessToken\n                    context.emit('login', accessToken)\n                }).catch((err) => {\n                    data.password = ''\n                    inputErrors.value = ''\n                    submitting.value = false\n                    if(err.response?.status === 422)\n                        inputErrors.value = err.response.data.errors\n                    else if(err.response?.status === 401)\n                        context.emit('error', err.response.data.message)\n                    else if(!err.response)\n                        context.emit('error', 'Server is currently offline')\n                    else console.log(err)\n                })\n        }\n        return {data, submitting, inputErrors, handleSubmit}\n    }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":"AAiBA,SAASA,QAAQ,EAAEC,GAAE,QAAS,KAAI;AAClC,OAAOC,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,KAAKA,CAACC,KAAK,EAAEC,OAAO,EAAC;IACjB,MAAMC,IAAG,GAAIN,QAAQ,CAAC;MAClBO,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;IACd,CAAC;IACD,MAAMC,UAAS,GAAIR,GAAG,CAAC,KAAK;IAC5B,MAAMS,WAAU,GAAIT,GAAG,CAAC,CAAC,CAAC;IAC1B,MAAMU,YAAW,GAAIA,CAAA,KAAM;MACvBF,UAAU,CAACG,KAAI,GAAI,IAAG;MACtBV,KAAK,CAACW,IAAI,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,mBAAoB,cAAa,EAAEV,IAAI,EAC5DW,IAAI,CAAEC,GAAG,IAAK;QACXR,WAAW,CAACE,KAAI,GAAI,CAAC;QACrB,MAAMO,WAAU,GAAID,GAAG,CAACZ,IAAI,CAACa,WAAU;QACvCd,OAAO,CAACe,IAAI,CAAC,OAAO,EAAED,WAAW;MACrC,CAAC,CAAC,CAACE,KAAK,CAAEC,GAAG,IAAK;QACdhB,IAAI,CAACE,QAAO,GAAI,EAAC;QACjBE,WAAW,CAACE,KAAI,GAAI,EAAC;QACrBH,UAAU,CAACG,KAAI,GAAI,KAAI;QACvB,IAAGU,GAAG,CAACC,QAAQ,EAAEC,MAAK,KAAM,GAAG,EAC3Bd,WAAW,CAACE,KAAI,GAAIU,GAAG,CAACC,QAAQ,CAACjB,IAAI,CAACmB,MAAK,MAC1C,IAAGH,GAAG,CAACC,QAAQ,EAAEC,MAAK,KAAM,GAAG,EAChCnB,OAAO,CAACe,IAAI,CAAC,OAAO,EAAEE,GAAG,CAACC,QAAQ,CAACjB,IAAI,CAACoB,OAAO,OAC9C,IAAG,CAACJ,GAAG,CAACC,QAAQ,EACjBlB,OAAO,CAACe,IAAI,CAAC,OAAO,EAAE,6BAA6B,OAClDO,OAAO,CAACC,GAAG,CAACN,GAAG;MACxB,CAAC;IACT;IACA,OAAO;MAAChB,IAAI;MAAEG,UAAU;MAAEC,WAAW;MAAEC;IAAY;EACvD;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}